<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>微博登录</title>
<script src=" http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=804761267" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" data-appid="101012547" data-redirecturi="http://www.ceou.com.cn" charset="utf-8"></script>
</head>

<body>
<div id="wb_connect_btn"></div>
<script>
WB2.anyWhere(function(W){
    W.widget.connectButton({
        id: "wb_connect_btn",
        type: '3,2',
        callback : {
            login:function(o){
                //alert(o.screen_name)
            },
            logout:function(){
                //alert('logout');
            }
        }
    });
});

if(WB2.checkLogin()) {
	WB2.anyWhere(function(W) {
		W.parseCMD("/account/get_uid.json", function(sResult, bStatus) {
			if(bStatus) {
				 //请求uid成功后运行
				alert(sResult.uid);
			}else if(!bStatus) {
				//请求uid失败后运行
				alert('授权失败或错误');
			}
		}, {}, {
			method: 'get'
		});
	});
}
</script>

<span id="qqLoginBtn"></span>
<script type="text/javascript">
    QC.Login({
       btnId:"qqLoginBtn"    //插入按钮的节点id
});
</script>
</body>
</html>
